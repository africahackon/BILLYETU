import{u as g,r as v,s as c,i as r,o as n,d as t,l as u,f as m,t as p,k as d,M as S,e as a,F as x,m as V,v as b,y as A,g as U}from"./app-B-oWgorL.js";const P={class:"max-w-2xl mx-auto p-6 bg-white rounded shadow"},h={key:0,class:"mb-6 p-4 bg-gray-50 rounded border border-gray-200"},C={key:0},D={key:1},I={key:2},T={key:3},N={key:4},R={class:"mb-4"},W=["value"],F={key:0},L={class:"mb-4"},M={class:"mb-4"},E={class:"mb-4"},B={class:"mb-4"},G={class:"mb-4"},K={class:"mb-4 flex items-center"},q={__name:"WhatsappGateway",props:{gateways:{type:Array,default:()=>[]},user_id:{type:[String,Number],default:""}},setup(w){const o=w,y=[{value:"twilio",label:"Twilio (Default, managed by platform)"},{value:"custom",label:"Custom Provider"}],i=o.gateways[0]||{provider:"twilio"},l=g({provider:i.provider||"twilio",api_key:i.api_key||"",api_secret:i.api_secret||"",phone_number:i.phone_number||"",webhook_url:i.webhook_url||"",status_callback_url:i.status_callback_url||"",label:i.label||"",is_active:i.is_active||!1,custom_parameters:i.custom_parameters||{}});v(!1);const k=v(null),f=c(()=>l.provider!=="twilio"),_=()=>{l.post(route("tenants.settings.whatsapp_gateway.update"),{preserveScroll:!0,onSuccess:()=>{k.value=null}})};return(O,e)=>(n(),r("div",P,[e[22]||(e[22]=t("h3",{class:"text-xl font-bold mb-4"},"Tenant WhatsApp Gateway",-1)),o.gateways&&o.gateways.length>0?(n(),r("div",h,[e[13]||(e[13]=t("div",{class:"font-semibold mb-2"},"Current Saved Gateway:",-1)),t("div",null,[e[7]||(e[7]=t("span",{class:"font-medium"},"Provider:",-1)),m(" "+p(o.gateways[0].provider==="twilio"?"Twilio (Default)":o.gateways[0].provider),1)]),o.gateways[0].phone_number?(n(),r("div",C,[e[8]||(e[8]=t("span",{class:"font-medium"},"From Number:",-1)),m(" "+p(o.gateways[0].phone_number),1)])):u("",!0),o.gateways[0].label?(n(),r("div",D,[e[9]||(e[9]=t("span",{class:"font-medium"},"Label:",-1)),m(" "+p(o.gateways[0].label),1)])):u("",!0),o.gateways[0].webhook_url?(n(),r("div",I,[e[10]||(e[10]=t("span",{class:"font-medium"},"Webhook URL:",-1)),m(" "+p(o.gateways[0].webhook_url),1)])):u("",!0),o.gateways[0].status_callback_url?(n(),r("div",T,[e[11]||(e[11]=t("span",{class:"font-medium"},"Status Callback:",-1)),m(" "+p(o.gateways[0].status_callback_url),1)])):u("",!0),o.gateways[0].is_active?(n(),r("div",N,[...e[12]||(e[12]=[t("span",{class:"text-green-600 font-bold"},"Active",-1)])])):u("",!0)])):u("",!0),t("form",{onSubmit:U(_,["prevent"])},[t("div",R,[e[14]||(e[14]=t("label",{class:"block font-medium mb-1"},"WhatsApp Provider",-1)),d(t("select",{"onUpdate:modelValue":e[0]||(e[0]=s=>a(l).provider=s),class:"input input-bordered w-full"},[(n(),r(x,null,V(y,s=>t("option",{key:s.value,value:s.value},p(s.label),9,W)),64))],512),[[S,a(l).provider]])]),f.value?(n(),r("div",F,[t("div",L,[e[15]||(e[15]=t("label",{class:"block font-medium mb-1"},"API Key / SID",-1)),d(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>a(l).api_key=s),class:"input input-bordered w-full",placeholder:"Enter API Key or SID"},null,512),[[b,a(l).api_key]])]),t("div",M,[e[16]||(e[16]=t("label",{class:"block font-medium mb-1"},"API Secret / Token",-1)),d(t("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>a(l).api_secret=s),type:"password",class:"input input-bordered w-full",placeholder:"Enter API Secret or Token"},null,512),[[b,a(l).api_secret]])]),t("div",E,[e[17]||(e[17]=t("label",{class:"block font-medium mb-1"},"WhatsApp From Number",-1)),d(t("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>a(l).phone_number=s),class:"input input-bordered w-full",placeholder:"whatsapp:+1234567890"},null,512),[[b,a(l).phone_number]])]),t("div",B,[e[18]||(e[18]=t("label",{class:"block font-medium mb-1"},"Webhook URL (optional)",-1)),d(t("input",{"onUpdate:modelValue":e[4]||(e[4]=s=>a(l).webhook_url=s),class:"input input-bordered w-full",placeholder:"https://..."},null,512),[[b,a(l).webhook_url]])]),t("div",G,[e[19]||(e[19]=t("label",{class:"block font-medium mb-1"},"Status Callback URL (optional)",-1)),d(t("input",{"onUpdate:modelValue":e[5]||(e[5]=s=>a(l).status_callback_url=s),class:"input input-bordered w-full",placeholder:"https://..."},null,512),[[b,a(l).status_callback_url]])])])):u("",!0),t("div",K,[d(t("input",{type:"checkbox","onUpdate:modelValue":e[6]||(e[6]=s=>a(l).is_active=s),id:"is_active",class:"mr-2"},null,512),[[A,a(l).is_active]]),e[20]||(e[20]=t("label",{for:"is_active"},"Active",-1))]),e[21]||(e[21]=t("div",{class:"flex gap-4 mt-6"},[t("button",{class:"btn btn-primary",type:"submit"},"Save")],-1))],32)]))}};export{q as default};
