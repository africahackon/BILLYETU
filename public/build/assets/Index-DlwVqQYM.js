import{r as _,u as $,w as N,s as D,c as j,o as b,a as f,b as s,d as l,e as a,h as A,i as x,l as B,f as w,t as i,k as h,y as S,F as M,m as L,g as O,z as V}from"./app-DQ1vlaC4.js";import{_ as F}from"./AuthenticatedLayout-CTmlqVjy.js";import{_ as u}from"./TextInput-P6RIFoNc.js";import{_ as d}from"./InputLabel-C7E4CK2O.js";import{_ as m}from"./InputError-fFqqaa-Z.js";import{P as E}from"./PrimaryButton-COi-B1G3.js";import{_ as K}from"./Pagination-YzUkO9ST.js";import{_ as z}from"./Modal-DFnkkLC8.js";import{D as I}from"./DangerButton-DgYQaF_6.js";import{P as G}from"./plus-Dr2sUzT-.js";import{S as H}from"./square-pen-v0UkBWV9.js";import{T as J}from"./trash-2-CHZDhFqJ.js";import"./useTheme-CZQL-PUu.js";import"./users-DRAMVCud.js";import"./createLucideIcon-B_z4RiSM.js";import"./clock-BGYHf9J1.js";import"./circle-check-big-DsdPW5IB.js";import"./triangle-alert-k_4De6-w.js";import"./dollar-sign-D5yBrcRU.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const Q={class:"max-w-7xl mx-auto p-6 space-y-6"},R={class:"flex justify-between items-center"},W={class:"bg-white p-4 rounded shadow text-xl font-semibold"},X={key:0,class:"mb-4 flex items-center justify-between bg-yellow-50 p-3 border border-yellow-200 rounded"},Y={class:"flex gap-2"},Z={class:"w-full bg-white rounded shadow overflow-hidden"},ee={class:"bg-gray-100 text-left"},le={class:"px-4 py-3"},te={class:"px-6 py-3"},se=["value"],oe={class:"px-4 py-2"},ae={class:"px-4 py-2"},ne={class:"px-4 py-2"},ie={class:"px-4 py-2"},re={class:"px-4 py-2"},ue={class:"px-4 py-2"},de={class:"px-4 py-2 space-x-2"},me=["onClick"],pe=["onClick"],ce={class:"text-xl font-semibold mb-4"},fe={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ve={class:"mt-4 text-right"},Ae={__name:"Index",props:{equipment:Object,totalPrice:Number,Count:Object,filters:Object,Pagination:Object},setup(v){const k=v,p=_(!1),c=_(null),r=_([]),g=_(!1),t=$({name:"",type:"",serial_number:"",location:"",model:"",price:"",total_price:"",assigned_to:""});function q(){t.reset(),c.value=null,p.value=!0}function C(n){t.name=n.name,t.type=n.type,t.serial_number=n.serial_number,t.location=n.location,t.model=n.model,t.price=n.price,t.total_price=n.total_price,t.assigned_to=n.assigned_to,c.value=n.id,p.value=!0}function U(){c.value?t.put(route("tenants.equipment.update",c.value),{onSuccess:()=>p.value=!1}):t.post(route("tenants.equipment.store"),{onSuccess:()=>p.value=!1})}function P(n){confirm("Delete this Equipment")&&V.delete(route("tenants.equipment.destroy",n))}N(g,n=>{n?r.value=k.equipment.data.map(e=>e.id):r.value=[]}),D(()=>k.equipment.data.map(n=>n.id));const T=()=>{r.value.length&&confirm("Are you sure you want to delete Equipment?")&&V.delete(route("tenants.equipment.bulk-delete"),{data:{ids:r.value},onSuccess:()=>{r.value=[],V.visit(route("tenants.equipment.index"),{preserveScroll:!0})}})};return(n,e)=>(b(),j(F,null,{default:f(()=>[s(a(A),{title:"Equipment"}),l("div",Q,[l("div",R,[e[12]||(e[12]=l("h2",{class:"text-2xl font-bold flex"},"Equipment",-1)),s(E,{onClick:q,class:"flex items-center gap-2"},{default:f(()=>[s(a(G),{class:"h-4 w-4"}),e[11]||(e[11]=w(" Equipment",-1))]),_:1})]),l("div",W," Total Equipment Cost: KES "+i(v.totalPrice.toLocaleString()),1),r.value.length?(b(),x("div",X,[l("div",Y,[s(I,{onClick:T},{default:f(()=>[w("Delete ("+i(r.value.length)+")",1)]),_:1})])])):B("",!0),l("table",Z,[l("thead",ee,[l("tr",null,[l("td",le,[h(l("input",{type:"checkbox","onUpdate:modelValue":e[0]||(e[0]=o=>g.value=o)},null,512),[[S,g.value]])]),e[13]||(e[13]=l("th",{class:"px-4 py-2"},"Name",-1)),e[14]||(e[14]=l("th",{class:"px-4 py-2"},"Type",-1)),e[15]||(e[15]=l("th",{class:"px-4 py-2"},"Serial",-1)),e[16]||(e[16]=l("th",{class:"px-4 py-2"},"Location",-1)),e[17]||(e[17]=l("th",{class:"px-4 py-2"},"User",-1)),e[18]||(e[18]=l("th",{class:"px-4 py-2"},"Price (Ksh)",-1)),e[19]||(e[19]=l("th",{class:"px-4 py-2"},"Actions",-1))])]),l("tbody",null,[(b(!0),x(M,null,L(v.equipment.data,o=>(b(),x("tr",{key:o.id,class:"border-t"},[l("td",te,[h(l("input",{type:"checkbox",value:o.id,"onUpdate:modelValue":e[1]||(e[1]=y=>r.value=y)},null,8,se),[[S,r.value]])]),l("td",oe,i(o.name),1),l("td",ae,i(o.type),1),l("td",ne,i(o.serial_number),1),l("td",ie,i(o.location??"-"),1),l("td",re,i(o.assigned_to??"-"),1),l("td",ue,i(o.total_price?.toLocaleString()??"0.00"),1),l("td",de,[l("button",{onClick:y=>C(o),class:"text-blue-600 hover:underline"},[s(a(H),{class:"w-4 h-4"})],8,me),l("button",{onClick:y=>P(o.id)},[s(a(J),{class:"w-4 h-4 text-red-600"})],8,pe)])]))),128))])])]),s(K,{links:v.equipment.links},null,8,["links"]),s(z,{show:p.value,onClose:e[10]||(e[10]=o=>p.value=!1)},{default:f(()=>[l("form",{onSubmit:O(U,["prevent"]),class:"p-6 space-y-4"},[l("h2",ce,i(c.value?"Edit Equipment":"Add Equipment"),1),l("div",fe,[l("div",null,[s(d,{for:"name",value:"Name"}),s(u,{modelValue:a(t).name,"onUpdate:modelValue":e[2]||(e[2]=o=>a(t).name=o),id:"name",class:"mt-1 block w-full"},null,8,["modelValue"]),s(m,{message:a(t).errors.name,class:"mt-2"},null,8,["message"])]),l("div",null,[s(d,{for:"type",value:"Type"}),s(u,{modelValue:a(t).type,"onUpdate:modelValue":e[3]||(e[3]=o=>a(t).type=o),id:"type",class:"mt-1 block w-full"},null,8,["modelValue"]),s(m,{message:a(t).errors.type,class:"mt-2"},null,8,["message"])]),l("div",null,[s(d,{for:"serial_number",value:"Serial Number"}),s(u,{modelValue:a(t).serial_number,"onUpdate:modelValue":e[4]||(e[4]=o=>a(t).serial_number=o),id:"serial_number",class:"mt-1 block w-full"},null,8,["modelValue"]),s(m,{message:a(t).errors.serial_number,class:"mt-2"},null,8,["message"])]),l("div",null,[s(d,{for:"location",value:"Location"}),s(u,{modelValue:a(t).location,"onUpdate:modelValue":e[5]||(e[5]=o=>a(t).location=o),id:"location",class:"mt-1 block w-full"},null,8,["modelValue"]),s(m,{message:a(t).errors.location,class:"mt-2"},null,8,["message"])]),l("div",null,[s(d,{for:"model",value:"Model"}),s(u,{modelValue:a(t).model,"onUpdate:modelValue":e[6]||(e[6]=o=>a(t).model=o),id:"model",class:"mt-1 block w-full"},null,8,["modelValue"]),s(m,{message:a(t).errors.model,class:"mt-2"},null,8,["message"])]),l("div",null,[s(d,{for:"price",value:"Price"}),s(u,{modelValue:a(t).price,"onUpdate:modelValue":e[7]||(e[7]=o=>a(t).price=o),id:"price",type:"number",step:"0.01",class:"mt-1 block w-full"},null,8,["modelValue"]),s(m,{message:a(t).errors.price,class:"mt-2"},null,8,["message"])]),l("div",null,[s(d,{for:"total_price",value:"Total Price"}),s(u,{modelValue:a(t).total_price,"onUpdate:modelValue":e[8]||(e[8]=o=>a(t).total_price=o),id:"total_price",type:"number",step:"0.01",class:"mt-1 block w-full"},null,8,["modelValue"]),s(m,{message:a(t).errors.total_price,class:"mt-2"},null,8,["message"])]),l("div",null,[s(d,{for:"assigned_to",value:"Assigned To"}),s(u,{modelValue:a(t).assigned_to,"onUpdate:modelValue":e[9]||(e[9]=o=>a(t).assigned_to=o),id:"assigned_to",class:"mt-1 block w-full"},null,8,["modelValue"]),s(m,{message:a(t).errors.assigned_to,class:"mt-2"},null,8,["message"])])]),l("div",ve,[s(E,{disabled:a(t).processing},{default:f(()=>[w(i(c.value?"Update":"Save"),1)]),_:1},8,["disabled"])])],32)]),_:1},8,["show"])]),_:1}))}};export{Ae as default};
