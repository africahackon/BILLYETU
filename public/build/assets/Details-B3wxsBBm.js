import{B as $,r as h,u as A,c as S,o as m,a as y,d as t,b as l,n as b,i as u,l as f,f as k,F as _,m as U,t as d,g as T,e as r}from"./app-ClLsTfBs.js";import{_ as B}from"./AuthenticatedLayout-DWyS7Zsa.js";import{_ as E}from"./Modal-np3oSQXU.js";import{_ as x}from"./TextInput-DpWzOmuJ.js";import{P as C}from"./PrimaryButton-D3d5Ywbw.js";import{D}from"./DangerButton-Ca0p5wN0.js";import{_ as p}from"./InputError-GgXdYZNG.js";import"./useTheme-Dj0zQ5aT.js";import"./users-DZA92Haw.js";import"./createLucideIcon-D8MMfvkc.js";import"./clock-BVty948m.js";import"./circle-check-big-LnCMj_bC.js";import"./triangle-alert-CdbVfkLU.js";import"./dollar-sign-DTSTT-pF.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const F={class:"flex justify-between items-center"},j={class:"font-extrabold text-xl text-blue-800 flex items-center gap-2"},L={class:"text-gray-500"},R={class:"px-4 sm:px-6 lg:px-8 mt-6"},M={class:"border-b border-gray-200 dark:border-gray-700"},z={class:"-mb-px flex space-x-8","aria-label":"Tabs"},I={class:"py-6 px-4 sm:px-6 lg:px-8"},O={key:0},G={class:"bg-white dark:bg-gray-900 shadow rounded-2xl p-6"},Y={class:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-6"},q={class:"text-xs font-semibold text-gray-500 dark:text-gray-400"},H={class:"mt-1 text-sm text-gray-900 dark:text-gray-100 font-medium capitalize"},J={key:1,class:"bg-white dark:bg-gray-900 shadow rounded-2xl p-6"},K={class:"grid grid-cols-1 sm:grid-cols-3 gap-6 mb-6"},Q={class:"bg-white dark:bg-gray-800 p-6 rounded-2xl shadow"},W={class:"mt-2 text-2xl font-bold text-indigo-600 dark:text-indigo-400"},X={class:"bg-white dark:bg-gray-800 p-6 rounded-2xl shadow"},Z={class:"mt-2 text-2xl font-bold text-green-600 dark:text-green-400"},ee={class:"bg-white dark:bg-gray-800 p-6 rounded-2xl shadow"},te={class:"mt-2 text-2xl font-bold text-purple-600 dark:text-purple-400"},se={class:"mt-6 overflow-x-auto"},ae={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700 border"},re={class:"bg-white dark:bg-gray-900 divide-y divide-gray-100 dark:divide-gray-800"},le={class:"px-4 py-2 text-sm text-gray-900 dark:text-gray-100"},oe={class:"px-4 py-2 text-sm text-gray-900 dark:text-gray-100"},de={class:"px-4 py-2 text-sm text-gray-900 dark:text-gray-100"},ne={class:"px-4 py-2 text-sm"},ie={class:"px-4 py-2 text-sm text-gray-900 dark:text-gray-100"},me={key:0},ue={key:2,class:"bg-white dark:bg-gray-900 shadow rounded-2xl p-6"},xe={key:3,class:"bg-white dark:bg-gray-900 shadow rounded-2xl p-6"},pe={class:"flex justify-end gap-3 mt-6"},$e={__name:"Details",props:{user:Object,lifetimeTotal:Number,paymentReliability:Number,clientValue:Number,tenant:Object,filters:Object,payments:Array},setup(v){const c=$(),o=v,g=h(!1),w=h(null),n=h("general"),s=A({full_name:"",username:"",password:"",phone:"",email:"",location:"",package_id:"",type:"hotspot",expires_at:""});function P(i){w.value=i.id,s.full_name=i.full_name??"",s.username=i.username??"",s.password="",s.phone=i.phone??"",s.email=i.email??"",s.location=i.location??"",s.package_id=i.package_id??"",s.type=i.type??"hotspot",s.expires_at=i.expires_at?i.expires_at.slice(0,16):"",g.value=!0}function N(){w.value?s.put(route("tenants.users.update",{user:w.value}),{onSuccess:()=>{g.value=!1,c.success("User updated successfully")},onError:()=>c.error("Failed to update user")}):s.post(route("tenants.users.store"),{onSuccess:()=>{g.value=!1,c.success("User created successfully")},onError:()=>c.error("Failed to create user")})}return(i,e)=>(m(),S(B,null,{header:y(()=>[t("div",F,[t("h2",j,[k(d(o.user.full_name)+" ",1),t("span",L,"("+d(o.user.username)+")",1)]),l(C,{onClick:e[0]||(e[0]=a=>P(o.user))},{default:y(()=>[...e[15]||(e[15]=[k(" Edit User ",-1)])]),_:1})])]),default:y(()=>[t("div",R,[t("div",M,[t("nav",z,[t("button",{onClick:e[1]||(e[1]=a=>n.value="general"),class:b([n.value==="general"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300","whitespace-nowrap pb-3 px-1 border-b-2 font-medium text-sm"])}," General Information ",2),t("button",{onClick:e[2]||(e[2]=a=>n.value="payments"),class:b([n.value==="payments"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300","whitespace-nowrap pb-3 px-1 border-b-2 font-medium text-sm"])}," Payments ",2),t("button",{onClick:e[3]||(e[3]=a=>n.value="reports"),class:b([n.value==="reports"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300","whitespace-nowrap pb-3 px-1 border-b-2 font-medium text-sm"])}," Reports ",2),t("button",{onClick:e[4]||(e[4]=a=>n.value="sessions"),class:b([n.value==="sessions"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300","whitespace-nowrap pb-3 px-1 border-b-2 font-medium text-sm"])}," Sessions ",2)])])]),t("div",I,[n.value==="general"?(m(),u("div",O,[t("div",G,[e[16]||(e[16]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2"},[t("svg",{class:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:`M5.121 17.804A13.937 13.937 0 0112 15c2.485 0 \r
                   4.797.63 6.879 1.804M15 11a3 3 0 \r
                   11-6 0 3 3 0 016 0z`})]),k(" User Information ")],-1)),e[17]||(e[17]=t("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},"Personal details & account info",-1)),t("div",Y,[(m(!0),u(_,null,U({"Full Name":o.user.full_name,Username:o.user.username,Email:o.user.email??"—",Password:o.user.password??"—",Account:o.user.account_number??"—",Phone:o.user.phone??"—",Location:o.user.location??"—","User Type":o.user.type,"Package ID":o.user.package_id??"—","Expires At":o.user.expires_at?new Date(o.user.expires_at).toLocaleString():"—"},(a,V)=>(m(),u("div",{key:V,class:"bg-gray-50 dark:bg-gray-800 rounded-xl p-4 flex flex-col"},[t("span",q,d(V),1),t("span",H,d(a),1)]))),128))])])])):f("",!0),n.value==="payments"?(m(),u("div",J,[e[25]||(e[25]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Payments",-1)),e[26]||(e[26]=t("p",{class:"mt-2 text-sm text-gray-500 dark:text-gray-400"},"All payments related to this user",-1)),t("div",K,[t("div",Q,[e[18]||(e[18]=t("h3",{class:"text-lg font-semibold text-gray-700 dark:text-gray-300"},"Lifetime Total",-1)),t("p",W,d(v.lifetimeTotal),1)]),t("div",X,[e[19]||(e[19]=t("h3",{class:"text-lg font-semibold text-gray-700 dark:text-gray-300"},"Payment Reliability",-1)),t("p",Z,d(v.paymentReliability)+"% ",1),e[20]||(e[20]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400"}," (Average speed of payment after expiry) ",-1))]),t("div",ee,[e[21]||(e[21]=t("h3",{class:"text-lg font-semibold text-gray-700 dark:text-gray-300"},"Client Value",-1)),t("p",te,d(v.clientValue)+" / 100 ",1),e[22]||(e[22]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400"}," Compared to all clients ",-1))])]),t("div",se,[t("table",ae,[e[24]||(e[24]=t("thead",{class:"bg-gray-50 dark:bg-gray-800"},[t("tr",null,[t("th",{class:"px-4 py-2 text-left text-sm font-semibold text-gray-600 dark:text-gray-300"},"Amount"),t("th",{class:"px-4 py-2 text-left text-sm font-semibold text-gray-600 dark:text-gray-300"},"Phone"),t("th",{class:"px-4 py-2 text-left text-sm font-semibold text-gray-600 dark:text-gray-300"},"Receipt #"),t("th",{class:"px-4 py-2 text-left text-sm font-semibold text-gray-600 dark:text-gray-300"},"Checked"),t("th",{class:"px-4 py-2 text-left text-sm font-semibold text-gray-600 dark:text-gray-300"},"Paid At")])],-1)),t("tbody",re,[(m(!0),u(_,null,U(o.payments,a=>(m(),u("tr",{key:a.id},[t("td",le,d(a.amount),1),t("td",oe,d(a.phone??"—"),1),t("td",de,d(a.receipt_number??"—"),1),t("td",ne,[t("span",{class:b(["px-2 inline-flex text-xs leading-5 font-semibold rounded-full",a.checked?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"])},d(a.checked?"Yes":"No"),3)]),t("td",ie,d(a.paid_at?new Date(a.paid_at).toLocaleString():"—"),1)]))),128)),!o.payments||o.payments.length===0?(m(),u("tr",me,[...e[23]||(e[23]=[t("td",{colspan:"5",class:"px-4 py-4 text-center text-sm text-gray-500 dark:text-gray-400"}," No payments found for this user. ",-1)])])):f("",!0)])])])])):f("",!0),n.value==="reports"?(m(),u("div",ue,[...e[27]||(e[27]=[t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Reports",-1),t("p",{class:"mt-2 text-sm text-gray-500 dark:text-gray-400"},"User reports and usage statistics.",-1)])])):f("",!0),n.value==="sessions"?(m(),u("div",xe,[...e[28]||(e[28]=[t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Sessions",-1),t("p",{class:"mt-2 text-sm text-gray-500 dark:text-gray-400"},"Active and past session details.",-1)])])):f("",!0)]),l(E,{show:g.value,onClose:e[14]||(e[14]=a=>g.value=!1)},{default:y(()=>[t("form",{onSubmit:T(N,["prevent"]),class:"space-y-4 p-6"},[t("div",null,[e[29]||(e[29]=t("label",{class:"block text-sm font-medium"},"Full Name",-1)),l(x,{modelValue:r(s).full_name,"onUpdate:modelValue":e[5]||(e[5]=a=>r(s).full_name=a),type:"text"},null,8,["modelValue"]),l(p,{message:r(s).errors.full_name},null,8,["message"])]),t("div",null,[e[30]||(e[30]=t("label",{class:"block text-sm font-medium"},"Username",-1)),l(x,{modelValue:r(s).username,"onUpdate:modelValue":e[6]||(e[6]=a=>r(s).username=a),type:"text"},null,8,["modelValue"]),l(p,{message:r(s).errors.username},null,8,["message"])]),t("div",null,[e[31]||(e[31]=t("label",{class:"block text-sm font-medium"},"Password",-1)),l(x,{modelValue:r(s).password,"onUpdate:modelValue":e[7]||(e[7]=a=>r(s).password=a),type:"password"},null,8,["modelValue"]),l(p,{message:r(s).errors.password},null,8,["message"])]),t("div",null,[e[32]||(e[32]=t("label",{class:"block text-sm font-medium"},"Phone",-1)),l(x,{modelValue:r(s).phone,"onUpdate:modelValue":e[8]||(e[8]=a=>r(s).phone=a),type:"text"},null,8,["modelValue"]),l(p,{message:r(s).errors.phone},null,8,["message"])]),t("div",null,[e[33]||(e[33]=t("label",{class:"block text-sm font-medium"},"Email",-1)),l(x,{modelValue:r(s).email,"onUpdate:modelValue":e[9]||(e[9]=a=>r(s).email=a),type:"email"},null,8,["modelValue"]),l(p,{message:r(s).errors.email},null,8,["message"])]),t("div",null,[e[34]||(e[34]=t("label",{class:"block text-sm font-medium"},"Location",-1)),l(x,{modelValue:r(s).location,"onUpdate:modelValue":e[10]||(e[10]=a=>r(s).location=a),type:"text"},null,8,["modelValue"]),l(p,{message:r(s).errors.location},null,8,["message"])]),t("div",null,[e[35]||(e[35]=t("label",{class:"block text-sm font-medium"},"Package",-1)),l(x,{modelValue:r(s).package_id,"onUpdate:modelValue":e[11]||(e[11]=a=>r(s).package_id=a),type:"text"},null,8,["modelValue"]),l(p,{message:r(s).errors.package_id},null,8,["message"])]),t("div",null,[e[36]||(e[36]=t("label",{class:"block text-sm font-medium"},"Type",-1)),l(x,{modelValue:r(s).type,"onUpdate:modelValue":e[12]||(e[12]=a=>r(s).type=a),type:"text"},null,8,["modelValue"]),l(p,{message:r(s).errors.type},null,8,["message"])]),t("div",pe,[l(D,{onClick:e[13]||(e[13]=a=>g.value=!1),type:"button"},{default:y(()=>[...e[37]||(e[37]=[k("Cancel",-1)])]),_:1}),l(C,{disabled:r(s).processing},{default:y(()=>[k(d(w.value?"Update":"Save"),1)]),_:1},8,["disabled"])])],32)]),_:1},8,["show"])]),_:1}))}};export{$e as default};
