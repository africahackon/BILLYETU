import{u as c,i as a,o as u,d as t,l as i,f as r,t as b,k as p,M as _,e as o,v as y,g as w}from"./app-oFFNXrwF.js";const g={class:"max-w-2xl mx-auto p-6 bg-white rounded shadow"},M={key:0,class:"mb-6 p-4 bg-gray-50 rounded border border-gray-200"},B={key:0},P={key:1},N={key:2},x={key:3},V={key:4},h={key:5},S={class:"mb-4"},U={key:0,class:"mb-4"},C={key:1,class:"mb-4"},T={key:2,class:"mb-4"},A={key:3,class:"mb-4"},q={__name:"PaymentGateway",props:{gateways:{type:Array,default:()=>[]},phone_number:{type:String,default:""}},setup(k){const n=k,m=n.gateways&&n.gateways.length>0?n.gateways[0]:{},l=c({collection_method:m.collection_method||"phone",phone_number:m.phone_number||n.phone_number||"",bank_name:m.bank_name||"",bank_account:m.bank_account||"",till_number:m.till_number||"",paybill_business_number:m.paybill_business_number||"",paybill_account_number:m.paybill_account_number||""}),v=()=>{switch(l.collection_method){case"phone":l.provider="mpesa",l.payout_method="mpesa_phone";break;case"bank":l.provider="bank",l.payout_method="bank";break;case"mpesa_till":l.provider="mpesa",l.payout_method="till";break;case"mpesa_paybill":l.provider="mpesa",l.payout_method="paybill";break;default:l.provider="custom",l.payout_method=""}l.post(route("settings.payment_gateway.update"),{preserveScroll:!0})};function f(d){if(!d)return"";switch(d.payout_method){case"mpesa_phone":return"Mpesa Phone Number";case"bank":return"Bank";case"till":return"Mpesa Till";case"paybill":return"Mpesa Paybill";default:return(d.provider||"").charAt(0).toUpperCase()+(d.provider||"").slice(1)}}return(d,e)=>(u(),a("div",g,[e[25]||(e[25]=t("h3",{class:"text-xl font-bold mb-4"},"Tenant Payment Collection Details",-1)),n.gateways&&n.gateways.length>0?(u(),a("div",M,[e[14]||(e[14]=t("div",{class:"font-semibold mb-2"},"Current Saved Gateway:",-1)),t("div",null,[e[7]||(e[7]=t("span",{class:"font-medium"},"Method:",-1)),r(" "+b(f(n.gateways[0])),1)]),n.gateways[0].phone_number?(u(),a("div",B,[e[8]||(e[8]=t("span",{class:"font-medium"},"Phone Number:",-1)),r(" "+b(n.gateways[0].phone_number),1)])):i("",!0),n.gateways[0].bank_name?(u(),a("div",P,[e[9]||(e[9]=t("span",{class:"font-medium"},"Bank:",-1)),r(" "+b(n.gateways[0].bank_name),1)])):i("",!0),n.gateways[0].bank_account?(u(),a("div",N,[e[10]||(e[10]=t("span",{class:"font-medium"},"Bank Account:",-1)),r(" "+b(n.gateways[0].bank_account),1)])):i("",!0),n.gateways[0].till_number?(u(),a("div",x,[e[11]||(e[11]=t("span",{class:"font-medium"},"Mpesa Till:",-1)),r(" "+b(n.gateways[0].till_number),1)])):i("",!0),n.gateways[0].paybill_business_number?(u(),a("div",V,[e[12]||(e[12]=t("span",{class:"font-medium"},"Paybill Business #:",-1)),r(" "+b(n.gateways[0].paybill_business_number),1)])):i("",!0),n.gateways[0].paybill_account_number?(u(),a("div",h,[e[13]||(e[13]=t("span",{class:"font-medium"},"Paybill Account #:",-1)),r(" "+b(n.gateways[0].paybill_account_number),1)])):i("",!0)])):i("",!0),t("form",{onSubmit:w(v,["prevent"])},[t("div",S,[e[16]||(e[16]=t("label",{class:"block font-medium mb-1"},"Collection Method",-1)),p(t("select",{"onUpdate:modelValue":e[0]||(e[0]=s=>o(l).collection_method=s),class:"input input-bordered w-full"},[...e[15]||(e[15]=[t("option",{value:"phone"},"Phone Number",-1),t("option",{value:"bank"},"Bank",-1),t("option",{value:"mpesa_till"},"Mpesa Till",-1),t("option",{value:"mpesa_paybill"},"Mpesa Paybill",-1)])],512),[[_,o(l).collection_method]])]),o(l).collection_method==="phone"?(u(),a("div",U,[e[17]||(e[17]=t("label",{class:"block font-medium mb-1"},"Phone Number",-1)),p(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>o(l).phone_number=s),class:"input input-bordered w-full"},null,512),[[y,o(l).phone_number]])])):i("",!0),o(l).collection_method==="bank"?(u(),a("div",C,[e[19]||(e[19]=t("label",{class:"block font-medium mb-1"},"Bank Name",-1)),p(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>o(l).bank_name=s),class:"input input-bordered w-full"},[...e[18]||(e[18]=[t("option",{value:""},"Select Bank",-1),t("option",{value:"equity"},"Equity",-1),t("option",{value:"cooperative"},"Cooperative",-1),t("option",{value:"kcb"},"KCB",-1)])],512),[[_,o(l).bank_name]]),e[20]||(e[20]=t("label",{class:"block font-medium mb-1 mt-2"},"Bank Account",-1)),p(t("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>o(l).bank_account=s),class:"input input-bordered w-full"},null,512),[[y,o(l).bank_account]])])):i("",!0),o(l).collection_method==="mpesa_till"?(u(),a("div",T,[e[21]||(e[21]=t("label",{class:"block font-medium mb-1"},"Mpesa Till Number",-1)),p(t("input",{"onUpdate:modelValue":e[4]||(e[4]=s=>o(l).till_number=s),class:"input input-bordered w-full"},null,512),[[y,o(l).till_number]])])):i("",!0),o(l).collection_method==="mpesa_paybill"?(u(),a("div",A,[e[22]||(e[22]=t("label",{class:"block font-medium mb-1"},"Paybill Business Number",-1)),p(t("input",{"onUpdate:modelValue":e[5]||(e[5]=s=>o(l).paybill_business_number=s),class:"input input-bordered w-full"},null,512),[[y,o(l).paybill_business_number]]),e[23]||(e[23]=t("label",{class:"block font-medium mb-1 mt-2"},"Paybill Account Number",-1)),p(t("input",{"onUpdate:modelValue":e[6]||(e[6]=s=>o(l).paybill_account_number=s),class:"input input-bordered w-full"},null,512),[[y,o(l).paybill_account_number]])])):i("",!0),e[24]||(e[24]=t("div",{class:"mt-6 flex justify-end"},[t("button",{class:"btn btn-primary",type:"submit"},"Save")],-1))],32)]))}};export{q as default};
