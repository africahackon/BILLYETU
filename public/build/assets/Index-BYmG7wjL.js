import{r as N,u as je,c as Oe,o as k,a as E,d as l,i as O,l as M,b as f,F as Q,m as H,t as x,n as $e,g as ee,e as g,T as Se,f as $,k as ce,M as fe}from"./app-ClLsTfBs.js";import{d as te}from"./index-Ce2R2weR.js";import{_ as Ee}from"./AuthenticatedLayout-DWyS7Zsa.js";import{_ as J}from"./Modal-np3oSQXU.js";import{_ as V}from"./InputLabel-EHnkv2Cb.js";import{_ as T}from"./TextInput-DpWzOmuJ.js";import{_ as pe}from"./TextArea-rWJRRs6-.js";import{P as Z}from"./PrimaryButton-D3d5Ywbw.js";import{D as me}from"./DangerButton-Ca0p5wN0.js";import{_ as P}from"./InputError-GgXdYZNG.js";import{c as ge}from"./createLucideIcon-D8MMfvkc.js";import{E as Ce}from"./eye-4eRyOrcc.js";import{S as Ve}from"./square-pen-7DwZ6JdN.js";import{A as Pe}from"./users-DZA92Haw.js";import{T as Ae}from"./trash-2-CHRxED7Z.js";import{W as Re}from"./wifi-Cfzqy5EA.js";import{P as Ne}from"./plus-DVlVQLub.js";import"./useTheme-Dj0zQ5aT.js";import"./clock-BVty948m.js";import"./circle-check-big-LnCMj_bC.js";import"./triangle-alert-CdbVfkLU.js";import"./dollar-sign-DTSTT-pF.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";/**
 * @license lucide-vue-next v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=ge("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);/**
 * @license lucide-vue-next v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=ge("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),Ue=String.prototype.replace,Te=/%20/g,he={RFC1738:"RFC1738",RFC3986:"RFC3986"},le={RFC1738:function(d){return Ue.call(d,Te,"+")},RFC3986:function(d){return String(d)}},Me=he.RFC1738,be=he.RFC3986,se=Object.prototype.hasOwnProperty,B=Array.isArray,D=(function(){const d=[];for(let e=0;e<256;++e)d.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return d})(),Fe=function(e){for(;e.length>1;){const t=e.pop(),s=t.obj[t.prop];if(B(s)){const u=[];for(let r=0;r<s.length;++r)typeof s[r]<"u"&&u.push(s[r]);t.obj[t.prop]=u}}},Be=function(e,t){const s=t&&t.plainObjects?Object.create(null):{};for(let u=0;u<e.length;++u)typeof e[u]<"u"&&(s[u]=e[u]);return s},Le=function d(e,t,s){if(!t)return e;if(typeof t!="object"){if(B(e))e.push(t);else if(e&&typeof e=="object")(s&&(s.plainObjects||s.allowPrototypes)||!se.call(Object.prototype,t))&&(e[t]=!0);else return[e,t];return e}if(!e||typeof e!="object")return[e].concat(t);let u=e;return B(e)&&!B(t)&&(u=Be(e,s)),B(e)&&B(t)?(t.forEach(function(r,i){if(se.call(e,i)){const p=e[i];p&&typeof p=="object"&&r&&typeof r=="object"?e[i]=d(p,r,s):e.push(r)}else e[i]=r}),e):Object.keys(t).reduce(function(r,i){const p=t[i];return se.call(r,i)?r[i]=d(r[i],p,s):r[i]=p,r},u)},qe=function(d,e,t){const s=d.replace(/\+/g," ");if(t==="iso-8859-1")return s.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(s)}catch{return s}},ne=1024,ze=function(e,t,s,u,r){if(e.length===0)return e;let i=e;if(typeof e=="symbol"?i=Symbol.prototype.toString.call(e):typeof e!="string"&&(i=String(e)),s==="iso-8859-1")return escape(i).replace(/%u[0-9a-f]{4}/gi,function(c){return"%26%23"+parseInt(c.slice(2),16)+"%3B"});let p="";for(let c=0;c<i.length;c+=ne){const m=i.length>=ne?i.slice(c,c+ne):i,y=[];for(let b=0;b<m.length;++b){let o=m.charCodeAt(b);if(o===45||o===46||o===95||o===126||o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122||r===Me&&(o===40||o===41)){y[y.length]=m.charAt(b);continue}if(o<128){y[y.length]=D[o];continue}if(o<2048){y[y.length]=D[192|o>>6]+D[128|o&63];continue}if(o<55296||o>=57344){y[y.length]=D[224|o>>12]+D[128|o>>6&63]+D[128|o&63];continue}b+=1,o=65536+((o&1023)<<10|m.charCodeAt(b)&1023),y[y.length]=D[240|o>>18]+D[128|o>>12&63]+D[128|o>>6&63]+D[128|o&63]}p+=y.join("")}return p},Ke=function(e){const t=[{obj:{o:e},prop:"o"}],s=[];for(let u=0;u<t.length;++u){const r=t[u],i=r.obj[r.prop],p=Object.keys(i);for(let c=0;c<p.length;++c){const m=p[c],y=i[m];typeof y=="object"&&y!==null&&s.indexOf(y)===-1&&(t.push({obj:i,prop:m}),s.push(y))}}return Fe(t),e},Qe=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},He=function(e,t){return[].concat(e,t)},ie=function(e,t){if(B(e)){const s=[];for(let u=0;u<e.length;u+=1)s.push(t(e[u]));return s}return t(e)},Ze=Object.prototype.hasOwnProperty,ve={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},I=Array.isArray,We=Array.prototype.push,we=function(d,e){We.apply(d,I(e)?e:[e])},Ge=Date.prototype.toISOString,ye=be,j={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:ze,encodeValuesOnly:!1,format:ye,formatter:le[ye],indices:!1,serializeDate:function(e){return Ge.call(e)},skipNulls:!1,strictNullHandling:!1},Je=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},oe={},xe=function(e,t,s,u,r,i,p,c,m,y,b,o,w,_,C,U,L,K){let v=e,q=K,F=0,h=!1;for(;(q=q.get(oe))!==void 0&&!h;){const S=q.get(e);if(F+=1,typeof S<"u"){if(S===F)throw new RangeError("Cyclic object value");h=!0}typeof q.get(oe)>"u"&&(F=0)}if(typeof y=="function"?v=y(t,v):v instanceof Date?v=w(v):s==="comma"&&I(v)&&(v=ie(v,function(S){return S instanceof Date?w(S):S})),v===null){if(i)return m&&!U?m(t,j.encoder,L,"key",_):t;v=""}if(Je(v)||Qe(v)){if(m){const S=U?t:m(t,j.encoder,L,"key",_);return[C(S)+"="+C(m(v,j.encoder,L,"value",_))]}return[C(t)+"="+C(String(v))]}const n=[];if(typeof v>"u")return n;let a;if(s==="comma"&&I(v))U&&m&&(v=ie(v,m)),a=[{value:v.length>0?v.join(",")||null:void 0}];else if(I(y))a=y;else{const S=Object.keys(v);a=b?S.sort(b):S}const R=c?t.replace(/\./g,"%2E"):t,G=u&&I(v)&&v.length===1?R+"[]":R;if(r&&I(v)&&v.length===0)return G+"[]";for(let S=0;S<a.length;++S){const z=a[S],ue=typeof z=="object"&&typeof z.value<"u"?z.value:v[z];if(p&&ue===null)continue;const Y=o&&c?z.replace(/\./g,"%2E"):z,ke=I(v)?typeof s=="function"?s(G,Y):G:G+(o?"."+Y:"["+Y+"]");K.set(e,F);const de=new WeakMap;de.set(oe,K),we(n,xe(ue,ke,s,u,r,i,p,c,s==="comma"&&U&&I(v)?null:m,y,b,o,w,_,C,U,L,de))}return n},Xe=function(e){if(!e)return j;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");const t=e.charset||j.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let s=be;if(typeof e.format<"u"){if(!Ze.call(le,e.format))throw new TypeError("Unknown format option provided.");s=e.format}const u=le[s];let r=j.filter;(typeof e.filter=="function"||I(e.filter))&&(r=e.filter);let i;if(e.arrayFormat in ve?i=e.arrayFormat:"indices"in e?i=e.indices?"indices":"repeat":i=j.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const p=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:j.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:j.addQueryPrefix,allowDots:p,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:j.allowEmptyArrays,arrayFormat:i,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:j.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?j.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:j.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:j.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:j.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:j.encodeValuesOnly,filter:r,format:s,formatter:u,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:j.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:j.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:j.strictNullHandling}};function Ye(d,e){let t=d;const s=Xe(e);let u,r;typeof s.filter=="function"?(r=s.filter,t=r("",t)):I(s.filter)&&(r=s.filter,u=r);const i=[];if(typeof t!="object"||t===null)return"";const p=ve[s.arrayFormat],c=p==="comma"&&s.commaRoundTrip;u||(u=Object.keys(t)),s.sort&&u.sort(s.sort);const m=new WeakMap;for(let o=0;o<u.length;++o){const w=u[o];s.skipNulls&&t[w]===null||we(i,xe(t[w],w,p,c,s.allowEmptyArrays,s.strictNullHandling,s.skipNulls,s.encodeDotInKeys,s.encode?s.encoder:null,s.filter,s.sort,s.allowDots,s.serializeDate,s.format,s.formatter,s.encodeValuesOnly,s.charset,m))}const y=i.join(s.delimiter);let b=s.addQueryPrefix===!0?"?":"";return s.charsetSentinel&&(s.charset==="iso-8859-1"?b+="utf8=%26%2310003%3B&":b+="utf8=%E2%9C%93&"),y.length>0?b+y:""}const ae=Object.prototype.hasOwnProperty,et=Array.isArray,X={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:qe,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},tt=function(d){return d.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},_e=function(d,e){return d&&typeof d=="string"&&e.comma&&d.indexOf(",")>-1?d.split(","):d},st="utf8=%26%2310003%3B",nt="utf8=%E2%9C%93",ot=function(e,t){const s={__proto__:null},u=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,r=t.parameterLimit===1/0?void 0:t.parameterLimit,i=u.split(t.delimiter,r);let p=-1,c,m=t.charset;if(t.charsetSentinel)for(c=0;c<i.length;++c)i[c].indexOf("utf8=")===0&&(i[c]===nt?m="utf-8":i[c]===st&&(m="iso-8859-1"),p=c,c=i.length);for(c=0;c<i.length;++c){if(c===p)continue;const y=i[c],b=y.indexOf("]="),o=b===-1?y.indexOf("="):b+1;let w,_;o===-1?(w=t.decoder(y,X.decoder,m,"key"),_=t.strictNullHandling?null:""):(w=t.decoder(y.slice(0,o),X.decoder,m,"key"),_=ie(_e(y.slice(o+1),t),function(U){return t.decoder(U,X.decoder,m,"value")})),_&&t.interpretNumericEntities&&m==="iso-8859-1"&&(_=tt(_)),y.indexOf("[]=")>-1&&(_=et(_)?[_]:_);const C=ae.call(s,w);C&&t.duplicates==="combine"?s[w]=He(s[w],_):(!C||t.duplicates==="last")&&(s[w]=_)}return s},rt=function(d,e,t,s){let u=s?e:_e(e,t);for(let r=d.length-1;r>=0;--r){let i;const p=d[r];if(p==="[]"&&t.parseArrays)i=t.allowEmptyArrays&&u===""?[]:[].concat(u);else{i=t.plainObjects?Object.create(null):{};const c=p.charAt(0)==="["&&p.charAt(p.length-1)==="]"?p.slice(1,-1):p,m=t.decodeDotInKeys?c.replace(/%2E/g,"."):c,y=parseInt(m,10);!t.parseArrays&&m===""?i={0:u}:!isNaN(y)&&p!==m&&String(y)===m&&y>=0&&t.parseArrays&&y<=t.arrayLimit?(i=[],i[y]=u):m!=="__proto__"&&(i[m]=u)}u=i}return u},lt=function(e,t,s,u){if(!e)return;const r=s.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,i=/(\[[^[\]]*])/,p=/(\[[^[\]]*])/g;let c=s.depth>0&&i.exec(r);const m=c?r.slice(0,c.index):r,y=[];if(m){if(!s.plainObjects&&ae.call(Object.prototype,m)&&!s.allowPrototypes)return;y.push(m)}let b=0;for(;s.depth>0&&(c=p.exec(r))!==null&&b<s.depth;){if(b+=1,!s.plainObjects&&ae.call(Object.prototype,c[1].slice(1,-1))&&!s.allowPrototypes)return;y.push(c[1])}return c&&y.push("["+r.slice(c.index)+"]"),rt(y,t,s,u)},it=function(e){return X};function at(d,e){const t=it();if(d===""||d===null||typeof d>"u")return t.plainObjects?Object.create(null):{};const s=typeof d=="string"?ot(d,t):d;let u=t.plainObjects?Object.create(null):{};const r=Object.keys(s);for(let i=0;i<r.length;++i){const p=r[i],c=lt(p,s[p],t,typeof d=="string");u=Le(u,c,t)}return t.allowSparse===!0?u:Ke(u)}function A(){return A=Object.assign?Object.assign.bind():function(d){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)({}).hasOwnProperty.call(t,s)&&(d[s]=t[s])}return d},A.apply(null,arguments)}class re{constructor(e,t,s){var u,r;this.name=e,this.definition=t,this.bindings=(u=t.bindings)!=null?u:{},this.wheres=(r=t.wheres)!=null?r:{},this.config=s}get template(){const e=`${this.origin}/${this.definition.uri}`.replace(/\/+$/,"");return e===""?"/":e}get origin(){return this.config.absolute?this.definition.domain?`${this.config.url.match(/^\w+:\/\//)[0]}${this.definition.domain}${this.config.port?`:${this.config.port}`:""}`:this.config.url:""}get parameterSegments(){var e,t;return(e=(t=this.template.match(/{[^}?]+\??}/g))==null?void 0:t.map(s=>({name:s.replace(/{|\??}/g,""),required:!/\?}$/.test(s)})))!=null?e:[]}matchesUrl(e){var t;if(!this.definition.methods.includes("GET"))return!1;const s=this.template.replace(/[.*+$()[\]]/g,"\\$&").replace(/(\/?){([^}?]*)(\??)}/g,(p,c,m,y)=>{var b;const o=`(?<${m}>${((b=this.wheres[m])==null?void 0:b.replace(/(^\^)|(\$$)/g,""))||"[^/?]+"})`;return y?`(${c}${o})?`:`${c}${o}`}).replace(/^\w+:\/\//,""),[u,r]=e.replace(/^\w+:\/\//,"").split("?"),i=(t=new RegExp(`^${s}/?$`).exec(u))!=null?t:new RegExp(`^${s}/?$`).exec(decodeURI(u));if(i){for(const p in i.groups)i.groups[p]=typeof i.groups[p]=="string"?decodeURIComponent(i.groups[p]):i.groups[p];return{params:i.groups,query:at(r)}}return!1}compile(e){return this.parameterSegments.length?this.template.replace(/{([^}?]+)(\??)}/g,(t,s,u)=>{var r,i;if(!u&&[null,void 0].includes(e[s]))throw new Error(`Ziggy error: '${s}' parameter is required for route '${this.name}'.`);if(this.wheres[s]&&!new RegExp(`^${u?`(${this.wheres[s]})?`:this.wheres[s]}$`).test((i=e[s])!=null?i:""))throw new Error(`Ziggy error: '${s}' parameter '${e[s]}' does not match required format '${this.wheres[s]}' for route '${this.name}'.`);return encodeURI((r=e[s])!=null?r:"").replace(/%7C/g,"|").replace(/%25/g,"%").replace(/\$/g,"%24")}).replace(this.config.absolute?/(\.[^/]+?)(\/\/)/:/(^)(\/\/)/,"$1/").replace(/\/+$/,""):this.template}}class ut extends String{constructor(e,t,s=!0,u){if(super(),this.t=u??(typeof Ziggy<"u"?Ziggy:globalThis?.Ziggy),!this.t&&typeof document<"u"&&document.getElementById("ziggy-routes-json")&&(globalThis.Ziggy=JSON.parse(document.getElementById("ziggy-routes-json").textContent),this.t=globalThis.Ziggy),this.t=A({},this.t,{absolute:s}),e){if(!this.t.routes[e])throw new Error(`Ziggy error: route '${e}' is not in the route list.`);this.i=new re(e,this.t.routes[e],this.t),this.o=this.u(t)}}toString(){const e=Object.keys(this.o).filter(t=>!this.i.parameterSegments.some(({name:s})=>s===t)).filter(t=>t!=="_query").reduce((t,s)=>A({},t,{[s]:this.o[s]}),{});return this.i.compile(this.o)+Ye(A({},e,this.o._query),{addQueryPrefix:!0,arrayFormat:"indices",encodeValuesOnly:!0,skipNulls:!0,encoder:(t,s)=>typeof t=="boolean"?Number(t):s(t)})}h(e){e?this.t.absolute&&e.startsWith("/")&&(e=this.l().host+e):e=this.m();let t={};const[s,u]=Object.entries(this.t.routes).find(([r,i])=>t=new re(r,i,this.t).matchesUrl(e))||[void 0,void 0];return A({name:s},t,{route:u})}m(){const{host:e,pathname:t,search:s}=this.l();return(this.t.absolute?e+t:t.replace(this.t.url.replace(/^\w*:\/\/[^/]+/,""),"").replace(/^\/+/,"/"))+s}current(e,t){const{name:s,params:u,query:r,route:i}=this.h();if(!e)return s;const p=new RegExp(`^${e.replace(/\./g,"\\.").replace(/\*/g,".*")}$`).test(s);if([null,void 0].includes(t)||!p)return p;const c=new re(s,i,this.t);t=this.u(t,c);const m=A({},u,r);if(Object.values(t).every(b=>!b)&&!Object.values(m).some(b=>b!==void 0))return!0;const y=(b,o)=>Object.entries(b).every(([w,_])=>Array.isArray(_)&&Array.isArray(o[w])?_.every(C=>o[w].includes(C)||o[w].includes(decodeURIComponent(C))):typeof _=="object"&&typeof o[w]=="object"&&_!==null&&o[w]!==null?y(_,o[w]):o[w]==_||o[w]==decodeURIComponent(_));return y(t,m)}l(){var e,t,s,u,r,i;const{host:p="",pathname:c="",search:m=""}=typeof window<"u"?window.location:{};return{host:(e=(t=this.t.location)==null?void 0:t.host)!=null?e:p,pathname:(s=(u=this.t.location)==null?void 0:u.pathname)!=null?s:c,search:(r=(i=this.t.location)==null?void 0:i.search)!=null?r:m}}get params(){const{params:e,query:t}=this.h();return A({},e,t)}get routeParams(){return this.h().params}get queryParams(){return this.h().query}has(e){return this.t.routes.hasOwnProperty(e)}u(e={},t=this.i){e!=null||(e={}),e=["string","number"].includes(typeof e)?[e]:e;const s=t.parameterSegments.filter(({name:u})=>!this.t.defaults[u]);return Array.isArray(e)?e=e.reduce((u,r,i)=>A({},u,s[i]?{[s[i].name]:r}:typeof r=="object"?r:{[r]:""}),{}):s.length!==1||e[s[0].name]||!e.hasOwnProperty(Object.values(t.bindings)[0])&&!e.hasOwnProperty("id")||(e={[s[0].name]:e}),A({},this.p(t),this.$(e,t))}p(e){return e.parameterSegments.filter(({name:t})=>this.t.defaults[t]).reduce((t,{name:s},u)=>A({},t,{[s]:this.t.defaults[s]}),{})}$(e,{bindings:t,parameterSegments:s}){return Object.entries(e).reduce((u,[r,i])=>{if(!i||typeof i!="object"||Array.isArray(i)||!s.some(({name:p})=>p===r))return A({},u,{[r]:i});if(!i.hasOwnProperty(t[r])){if(!i.hasOwnProperty("id"))throw new Error(`Ziggy error: object passed as '${r}' parameter is missing route model binding key '${t[r]}'.`);t[r]="id"}return A({},u,{[r]:i[t[r]]})},{})}valueOf(){return this.toString()}}function W(d,e,t,s){const u=new ut(d,e,t,s);return d?u.toString():u}const dt={class:"flex justify-between items-center"},ct={class:"text-2xl font-semibold text-gray-800 flex items-center gap-2"},ft={class:"py-6"},pt={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},mt={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},yt={class:"p-6 bg-white border-b border-gray-200"},gt={class:"overflow-x-auto"},ht={class:"min-w-full divide-y divide-gray-200"},bt={class:"bg-white divide-y divide-gray-200"},vt={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},wt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},xt={class:"px-6 py-4 whitespace-nowrap"},_t={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},kt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},jt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Ot={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},$t={class:"relative flex items-center justify-end"},St=["onClick","aria-expanded"],Et={key:0,class:"absolute right-0 mt-2 flex space-x-2 bg-white border rounded shadow-lg p-2 z-50"},Ct=["onClick"],Vt=["onClick"],Pt=["onClick","disabled"],At=["onClick"],Rt=["onClick"],Nt={key:0},Dt={key:0,class:"mb-4 p-2 bg-red-100 text-red-700 rounded"},It={class:"p-6"},Ut={class:"mb-4"},Tt={class:"mb-4"},Mt={class:"mb-4"},Ft={class:"mb-4"},Bt={class:"flex justify-end gap-2 mt-6"},Lt={class:"p-6"},qt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},zt={class:"md:col-span-2"},Kt={class:"md:col-span-2"},Qt=["value"],Ht={class:"md:col-span-2"},Zt={class:"flex justify-end gap-3 mt-4"},Wt={class:"p-6"},Gt={class:"text-lg font-semibold mb-4"},Jt={class:"grid grid-cols-2 gap-4 mb-4"},Xt={key:0},Yt={key:0,class:"mb-4"},es={class:"mb-4"},ts={class:"max-h-32 overflow-y-auto bg-gray-50 p-2 rounded"},ss={key:0,class:"text-gray-500"},ns={class:"mb-4"},os={class:"max-h-32 overflow-y-auto bg-gray-50 p-2 rounded"},rs={key:0,class:"text-gray-500"},ls={class:"mb-4"},is={class:"max-h-32 overflow-y-auto bg-gray-50 p-2 rounded"},as={key:0,class:"text-gray-500"},us={class:"flex justify-end"},ds={class:"p-6"},cs={class:"space-y-2"},fs=["href"],ps=["href"],ms=["href"],ys={class:"flex justify-end mt-4"},Ms={__name:"Index",props:{routers:Array},setup(d){const e=N(!1),t=N(!1),s=N(!1),u=N(!1),r=N(null),i=N({}),p=N({});N({});const c=N(""),m=N({});function y(h){m.value[h]=!m.value[h]}function b(){m.value={}}typeof window<"u"&&window.addEventListener("click",h=>{h.target.closest(".router-actions-toggle")||b()});const o=je({name:"",router_username:"",router_password:"",notes:"",ip_address:"",api_port:"",ssh_port:"",connection_type:"api",openvpn_profile_id:null});function w(){e.value=!1,t.value=!1,o.reset(),c.value=""}async function _(){await o.post(W("tenants.mikrotiks.store"),{onSuccess:()=>{},onError:h=>{alert("Error adding router: "+Object.values(h).flat().join(", "))}})}function C(){r.value&&o.put(W("tenants.mikrotiks.update",r.value.id),{onSuccess:()=>{w(),te.Inertia.reload({only:["routers"],preserveScroll:!0})},onError:h=>{c.value="Error updating router: "+Object.values(h).flat().join(", ")}})}function U(h){r.value=h,o.name=h.name,o.ip_address=h.ip_address||"",o.api_port=h.api_port||"",o.ssh_port=h.ssh_port||"",o.router_username=h.router_username,o.router_password="",o.connection_type=h.connection_type||"api",o.openvpn_profile_id=h.openvpn_profile_id||null,o.notes=h.notes,t.value=!0,c.value=""}function L(h){r.value=h,s.value=!0}function K(h){confirm("Delete this router?")&&te.Inertia.delete(W("tenants.mikrotiks.destroy",h.id),{onSuccess:()=>{}})}function v(h){p.value[h.id]=!0,c.value="",fetch(W("tenants.mikrotiks.ping",h.id)).then(async n=>{if(!n.ok){const a=await n.json();throw new Error(a.message||"Unknown error")}return n.json()}).then(n=>{alert(n.message),h.status=n.status,h.last_seen_at=n.last_seen_at}).catch(n=>{c.value="Error pinging router: "+n.message}).finally(()=>{p.value[h.id]=!1})}function q(h){if(!h)return"-";const n=Math.floor(h/86400),a=Math.floor(h%86400/3600),R=Math.floor(h%3600/60);return`${n}d ${a}h ${R}m`}function F(h){if(!h&&h!==0)return"-";const n=["B","KB","MB","GB","TB"];let a=Math.floor((h?Math.log(h):0)/Math.log(1024));return a=Math.min(a,n.length-1),`${(h/Math.pow(1024,a)).toFixed(2)} ${n[a]}`}return(h,n)=>(k(),Oe(Ee,null,{header:E(()=>[l("div",dt,[l("h2",ct,[f(g(Re),{class:"w-6 h-6 text-blue-600"}),n[18]||(n[18]=$(" Mikrotik Routers ",-1))]),f(Z,{onClick:n[0]||(n[0]=a=>e.value=!0),class:"flex items-center gap-2"},{default:E(()=>[f(g(Ne),{class:"w-4 h-4"}),n[19]||(n[19]=$(" Add Router ",-1))]),_:1})])]),default:E(()=>[l("div",ft,[l("div",pt,[l("div",mt,[l("div",yt,[l("div",gt,[l("table",ht,[n[21]||(n[21]=l("thead",{class:"bg-gray-50"},[l("tr",null,[l("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Name"),l("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"IP Address"),l("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),l("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Model"),l("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"OS Version"),l("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Last Seen"),l("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),l("tbody",bt,[(k(!0),O(Q,null,H(d.routers,a=>(k(),O("tr",{key:a.id,class:"hover:bg-gray-50"},[l("td",vt,x(a.name),1),l("td",wt,x(a.ip_address),1),l("td",xt,[l("span",{class:$e(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",a.status==="online"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},x(a.status),3)]),l("td",_t,x(a.model||"-"),1),l("td",kt,x(a.os_version||"-"),1),l("td",jt,x(a.last_seen_at?new Date(a.last_seen_at).toLocaleString():"-"),1),l("td",Ot,[l("div",$t,[l("button",{onClick:ee(R=>y(a.id),["stop"]),class:"router-actions-toggle p-2 hover:bg-gray-100 rounded","aria-expanded":m.value[a.id]?"true":"false",title:"Show actions"},[f(g(Ie),{class:"w-5 h-5 text-gray-600"})],8,St),f(Se,{name:"fade"},{default:E(()=>[m.value[a.id]?(k(),O("div",Et,[l("button",{onClick:R=>{L(a),b()},title:"View",class:"p-2 hover:bg-gray-100 rounded"},[f(g(Ce),{class:"w-5 h-5 text-blue-600"})],8,Ct),l("button",{onClick:R=>{U(a),b()},title:"Edit",class:"p-2 hover:bg-gray-100 rounded"},[f(g(Ve),{class:"w-5 h-5 text-yellow-600"})],8,Vt),l("button",{onClick:R=>{v(a),b()},disabled:p.value[a.id],title:"Ping",class:"p-2 hover:bg-gray-100 rounded"},[f(g(Pe),{class:"w-5 h-5 text-green-600"})],8,Pt),l("button",{onClick:R=>{g(te.Inertia).visit(g(W)("tenants.mikrotiks.reprovision",a.id)),b()},title:"Reprovision/Show Script",class:"p-2 hover:bg-gray-100 rounded"},[f(g(De),{class:"w-5 h-5 text-indigo-600"})],8,At),l("button",{onClick:R=>{K(a),b()},title:"Delete",class:"p-2 hover:bg-red-50 rounded"},[f(g(Ae),{class:"w-5 h-5 text-red-600"})],8,Rt)])):M("",!0)]),_:2},1024)])])]))),128)),d.routers.length?M("",!0):(k(),O("tr",Nt,[...n[20]||(n[20]=[l("td",{colspan:"7",class:"px-6 py-4 text-center text-gray-500"},"No Mikrotik routers found.",-1)])]))])])])])])])]),c.value?(k(),O("div",Dt,x(c.value),1)):M("",!0),f(J,{show:e.value,onClose:w},{default:E(()=>[l("div",It,[n[24]||(n[24]=l("h3",{class:"text-lg font-semibold mb-4"},"Add Mikrotik Router",-1)),l("form",{onSubmit:ee(_,["prevent"])},[l("div",Ut,[f(V,{for:"name",value:"Router Name"}),f(T,{id:"name",modelValue:g(o).name,"onUpdate:modelValue":n[1]||(n[1]=a=>g(o).name=a),class:"mt-1 block w-full",required:"",autofocus:""},null,8,["modelValue"]),f(P,{message:g(o).errors.name},null,8,["message"])]),l("div",Tt,[f(V,{for:"router_username",value:"Username"}),f(T,{id:"router_username",modelValue:g(o).router_username,"onUpdate:modelValue":n[2]||(n[2]=a=>g(o).router_username=a),class:"mt-1 block w-full",required:"",autocomplete:"username"},null,8,["modelValue"]),f(P,{message:g(o).errors.router_username},null,8,["message"])]),l("div",Mt,[f(V,{for:"router_password",value:"Password"}),f(T,{id:"router_password",modelValue:g(o).router_password,"onUpdate:modelValue":n[3]||(n[3]=a=>g(o).router_password=a),class:"mt-1 block w-full",type:"password",required:"",autocomplete:"current-password"},null,8,["modelValue"]),f(P,{message:g(o).errors.router_password},null,8,["message"])]),l("div",Ft,[f(V,{for:"notes",value:"Notes (optional)"}),f(pe,{id:"notes",modelValue:g(o).notes,"onUpdate:modelValue":n[4]||(n[4]=a=>g(o).notes=a),class:"mt-1 block w-full"},null,8,["modelValue"]),f(P,{message:g(o).errors.notes},null,8,["message"])]),l("div",Bt,[f(Z,{type:"submit"},{default:E(()=>[...n[22]||(n[22]=[$("Add Router",-1)])]),_:1}),f(me,{type:"button",onClick:w},{default:E(()=>[...n[23]||(n[23]=[$("Cancel",-1)])]),_:1})])],32)])]),_:1},8,["show"]),f(J,{show:t.value,onClose:w},{default:E(()=>[l("div",Lt,[n[29]||(n[29]=l("h2",{class:"text-lg font-semibold mb-4"},"Edit Mikrotik Router",-1)),l("form",{onSubmit:ee(C,["prevent"])},[l("div",qt,[l("div",null,[f(V,{value:"Router Name"}),f(T,{modelValue:g(o).name,"onUpdate:modelValue":n[5]||(n[5]=a=>g(o).name=a),class:"mt-1 block w-full"},null,8,["modelValue"]),f(P,{message:g(o).errors.name},null,8,["message"])]),l("div",null,[f(V,{value:"IP Address"}),f(T,{modelValue:g(o).ip_address,"onUpdate:modelValue":n[6]||(n[6]=a=>g(o).ip_address=a),class:"mt-1 block w-full"},null,8,["modelValue"]),f(P,{message:g(o).errors.ip_address},null,8,["message"])]),l("div",null,[f(V,{value:"API Port"}),f(T,{modelValue:g(o).api_port,"onUpdate:modelValue":n[7]||(n[7]=a=>g(o).api_port=a),type:"number",class:"mt-1 block w-full"},null,8,["modelValue"]),f(P,{message:g(o).errors.api_port},null,8,["message"])]),l("div",null,[f(V,{value:"SSH Port"}),f(T,{modelValue:g(o).ssh_port,"onUpdate:modelValue":n[8]||(n[8]=a=>g(o).ssh_port=a),type:"number",class:"mt-1 block w-full"},null,8,["modelValue"]),f(P,{message:g(o).errors.ssh_port},null,8,["message"])]),l("div",null,[f(V,{value:"Username"}),f(T,{modelValue:g(o).router_username,"onUpdate:modelValue":n[9]||(n[9]=a=>g(o).router_username=a),class:"mt-1 block w-full",autocomplete:"username"},null,8,["modelValue"]),f(P,{message:g(o).errors.router_username},null,8,["message"])]),l("div",null,[f(V,{value:"Password (leave blank to keep current)"}),f(T,{modelValue:g(o).router_password,"onUpdate:modelValue":n[10]||(n[10]=a=>g(o).router_password=a),type:"password",class:"mt-1 block w-full",autocomplete:"current-password"},null,8,["modelValue"]),f(P,{message:g(o).errors.router_password},null,8,["message"])]),l("div",zt,[f(V,{value:"Connection Type"}),ce(l("select",{"onUpdate:modelValue":n[11]||(n[11]=a=>g(o).connection_type=a),class:"mt-1 block w-full border-gray-300 rounded-md"},[...n[25]||(n[25]=[l("option",{value:"api"},"API",-1),l("option",{value:"ssh"},"SSH",-1),l("option",{value:"ovpn"},"OVPN",-1)])],512),[[fe,g(o).connection_type]]),f(P,{message:g(o).errors.connection_type},null,8,["message"])]),l("div",Kt,[f(V,{value:"OpenVPN Profile (optional)"}),ce(l("select",{"onUpdate:modelValue":n[12]||(n[12]=a=>g(o).openvpn_profile_id=a),class:"mt-1 block w-full border-gray-300 rounded-md"},[n[26]||(n[26]=l("option",{value:null},"None",-1)),(k(!0),O(Q,null,H(h.$page.props.openvpnProfiles||[],a=>(k(),O("option",{key:a.id,value:a.id},x(a.config_path),9,Qt))),128))],512),[[fe,g(o).openvpn_profile_id]]),f(P,{message:g(o).errors.openvpn_profile_id},null,8,["message"])]),l("div",Ht,[f(V,{value:"Notes"}),f(pe,{modelValue:g(o).notes,"onUpdate:modelValue":n[13]||(n[13]=a=>g(o).notes=a),class:"mt-1 block w-full",rows:"3"},null,8,["modelValue"]),f(P,{message:g(o).errors.notes},null,8,["message"])])]),l("div",Zt,[f(me,{type:"button",onClick:w},{default:E(()=>[...n[27]||(n[27]=[$(" Cancel ",-1)])]),_:1}),f(Z,{disabled:g(o).processing},{default:E(()=>[...n[28]||(n[28]=[$(" Update ",-1)])]),_:1},8,["disabled"])])],32)])]),_:1},8,["show"]),f(J,{show:s.value,onClose:n[15]||(n[15]=a=>s.value=!1),"max-width":"4xl"},{default:E(()=>[l("div",Wt,[l("h2",Gt,"Router Details: "+x(r.value?.name),1),l("div",Jt,[l("div",null,[n[30]||(n[30]=l("span",{class:"font-medium"},"IP:",-1)),$(" "+x(r.value?.ip_address),1)]),l("div",null,[n[31]||(n[31]=l("span",{class:"font-medium"},"Model:",-1)),$(" "+x(r.value?.model||"-"),1)]),l("div",null,[n[32]||(n[32]=l("span",{class:"font-medium"},"OS Version:",-1)),$(" "+x(r.value?.os_version||"-"),1)]),l("div",null,[n[33]||(n[33]=l("span",{class:"font-medium"},"Uptime:",-1)),$(" "+x(r.value?.uptime?q(r.value.uptime):"-"),1)]),l("div",null,[n[34]||(n[34]=l("span",{class:"font-medium"},"CPU Usage:",-1)),$(" "+x(r.value?.cpu_usage??"-")+"%",1)]),l("div",null,[n[35]||(n[35]=l("span",{class:"font-medium"},"Memory Usage:",-1)),$(" "+x(r.value?.memory_usage??"-")+"%",1)]),r.value?.temperature?(k(),O("div",Xt,[n[36]||(n[36]=l("span",{class:"font-medium"},"Temperature:",-1)),$(" "+x(r.value.temperature)+"°C",1)])):M("",!0),l("div",null,[n[37]||(n[37]=l("span",{class:"font-medium"},"Last Seen:",-1)),$(" "+x(r.value?.last_seen_at?new Date(r.value.last_seen_at).toLocaleString():"-"),1)])]),r.value?.notes?(k(),O("div",Yt,[n[38]||(n[38]=l("span",{class:"font-medium"},"Notes:",-1)),$(" "+x(r.value.notes),1)])):M("",!0),l("div",es,[n[39]||(n[39]=l("h3",{class:"font-semibold mb-2"},"Logs",-1)),l("div",ts,[(k(!0),O(Q,null,H(r.value?.logs,a=>(k(),O("div",{key:a.id,class:"text-sm mb-1"}," ["+x(a.created_at?new Date(a.created_at).toLocaleString():"")+"] "+x(a.action)+": "+x(a.message)+" ("+x(a.status)+") ",1))),128)),r.value?.logs?.length?M("",!0):(k(),O("div",ss,"No logs found."))])]),l("div",ns,[n[40]||(n[40]=l("h3",{class:"font-semibold mb-2"},"Bandwidth Usage (last 5 records)",-1)),l("div",os,[(k(!0),O(Q,null,H(r.value?.bandwidth_usage?.slice(0,5),a=>(k(),O("div",{key:a.id,class:"text-sm mb-1"},x(a.interface_name)+": "+x(F(a.bytes_in))+" in / "+x(F(a.bytes_out))+" out @ "+x(new Date(a.timestamp).toLocaleString()),1))),128)),r.value?.bandwidth_usage?.length?M("",!0):(k(),O("div",rs,"No bandwidth data."))])]),l("div",ls,[n[41]||(n[41]=l("h3",{class:"font-semibold mb-2"},"Alerts",-1)),l("div",is,[(k(!0),O(Q,null,H(r.value?.alerts,a=>(k(),O("div",{key:a.id,class:"text-sm mb-1"}," ["+x(a.severity)+"] "+x(a.alert_type)+": "+x(a.message),1))),128)),r.value?.alerts?.length?M("",!0):(k(),O("div",as,"No alerts."))])]),l("div",us,[f(Z,{onClick:n[14]||(n[14]=a=>s.value=!1)},{default:E(()=>[...n[42]||(n[42]=[$("Close",-1)])]),_:1})])])]),_:1},8,["show"]),f(J,{show:u.value,onClose:n[17]||(n[17]=a=>u.value=!1)},{default:E(()=>[l("div",ds,[n[44]||(n[44]=l("h2",{class:"text-lg font-semibold mb-4"},"Remote Management Links",-1)),l("div",cs,[l("a",{href:i.value.winbox,target:"_blank",class:"block w-full text-center bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded"}," Open in Winbox ",8,fs),l("a",{href:i.value.ssh,target:"_blank",class:"block w-full text-center bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded"}," Open SSH ",8,ps),l("a",{href:i.value.api,target:"_blank",class:"block w-full text-center bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded"}," Open API ",8,ms)]),l("div",ys,[f(Z,{onClick:n[16]||(n[16]=a=>u.value=!1)},{default:E(()=>[...n[43]||(n[43]=[$("Close",-1)])]),_:1})])])]),_:1},8,["show"])]),_:1}))}};export{Ms as default};
