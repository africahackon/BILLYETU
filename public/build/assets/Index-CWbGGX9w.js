import{r as x,u as N,c as $,o as _,a as d,d as s,b as l,i as v,l as j,F as B,m as D,t as p,n as O,f as m,g as w,k as b,e as o,M as k,z as F}from"./app-B-oWgorL.js";import{_ as M}from"./AuthenticatedLayout-DQmTMAKG.js";import{_ as V}from"./Modal-rL_D16Y4.js";import{_ as r}from"./InputLabel-Qc75SLBk.js";import{_ as u}from"./TextInput-CHdG8hXy.js";import{P as g}from"./PrimaryButton-JAsWR8mt.js";import{D as z}from"./DangerButton-C9Y_aHkz.js";import{_ as i}from"./InputError-DjJ0vloF.js";import"./useTheme-BqXCrGo_.js";import"./users-UbsQP_5p.js";import"./createLucideIcon-676DDOdB.js";import"./clock-Ceb6M1qm.js";import"./circle-check-big-BLJy3Tqw.js";import"./triangle-alert-BrKQhPAh.js";import"./dollar-sign-DBGEH5tI.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const I={class:"flex justify-between items-center"},K={class:"py-6"},L={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},T={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},q={class:"p-6 bg-white border-b border-gray-200"},G={class:"min-w-full divide-y divide-gray-200"},H={class:"bg-white divide-y divide-gray-200"},J={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Q={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},R={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},W={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},X={class:"px-6 py-4 whitespace-nowrap"},Y={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},Z={key:0},tt={class:"p-6"},et={class:"flex justify-end mt-4"},st={class:"p-6"},lt={class:"flex justify-end mt-4"},ht={__name:"Index",props:{profiles:Array},setup(y){const c=x(!1),f=x(!1),h=x(null),e=N({config_path:"",client_cert_path:"",client_key_path:"",ca_cert_path:"",status:"active"});function C(){e.reset(),c.value=!0}function P(n){h.value=n,e.config_path=n.config_path,e.client_cert_path=n.client_cert_path,e.client_key_path=n.client_key_path,e.ca_cert_path=n.ca_cert_path,e.status=n.status,f.value=!0}function A(){e.post(route("tenants.openvpn-profiles.store"),{onSuccess:()=>{c.value=!1,window.location.reload()},onError:n=>{alert("Error: "+Object.values(n).flat().join(", "))}})}function U(){e.put(route("tenants.openvpn-profiles.update",h.value.id),{onSuccess:()=>{f.value=!1,window.location.reload()},onError:n=>{alert("Error: "+Object.values(n).flat().join(", "))}})}function S(n){confirm("Delete this profile?")&&F.delete(route("tenants.openvpn-profiles.destroy",n.id))}return(n,t)=>(_(),$(M,null,{header:d(()=>[s("div",I,[t[13]||(t[13]=s("h2",{class:"text-2xl font-semibold text-gray-800"},"OpenVPN Profiles",-1)),l(g,{onClick:C},{default:d(()=>[...t[12]||(t[12]=[m("Add Profile",-1)])]),_:1})])]),default:d(()=>[s("div",K,[s("div",L,[s("div",T,[s("div",q,[s("table",G,[t[17]||(t[17]=s("thead",{class:"bg-gray-50"},[s("tr",null,[s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Config Path"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Client Cert"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Client Key"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"CA Cert"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),s("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),s("tbody",H,[(_(!0),v(B,null,D(y.profiles,a=>(_(),v("tr",{key:a.id},[s("td",J,p(a.config_path),1),s("td",Q,p(a.client_cert_path),1),s("td",R,p(a.client_key_path),1),s("td",W,p(a.ca_cert_path),1),s("td",X,[s("span",{class:O(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",a.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},p(a.status),3)]),s("td",Y,[l(g,{onClick:E=>P(a),size:"sm"},{default:d(()=>[...t[14]||(t[14]=[m("Edit",-1)])]),_:1},8,["onClick"]),l(z,{onClick:E=>S(a),size:"sm"},{default:d(()=>[...t[15]||(t[15]=[m("Delete",-1)])]),_:1},8,["onClick"])])]))),128)),y.profiles.length?j("",!0):(_(),v("tr",Z,[...t[16]||(t[16]=[s("td",{colspan:"6",class:"px-6 py-4 text-center text-gray-500"},"No OpenVPN profiles found.",-1)])]))])])])])])]),l(V,{show:c.value,onClose:t[5]||(t[5]=a=>c.value=!1)},{default:d(()=>[s("div",tt,[t[20]||(t[20]=s("h2",{class:"text-lg font-semibold mb-4"},"Add OpenVPN Profile",-1)),s("form",{onSubmit:w(A,["prevent"])},[l(r,{value:"Config Path"}),l(u,{modelValue:o(e).config_path,"onUpdate:modelValue":t[0]||(t[0]=a=>o(e).config_path=a),class:"mt-1 block w-full"},null,8,["modelValue"]),l(i,{message:o(e).errors.config_path},null,8,["message"]),l(r,{value:"Client Cert Path"}),l(u,{modelValue:o(e).client_cert_path,"onUpdate:modelValue":t[1]||(t[1]=a=>o(e).client_cert_path=a),class:"mt-1 block w-full"},null,8,["modelValue"]),l(i,{message:o(e).errors.client_cert_path},null,8,["message"]),l(r,{value:"Client Key Path"}),l(u,{modelValue:o(e).client_key_path,"onUpdate:modelValue":t[2]||(t[2]=a=>o(e).client_key_path=a),class:"mt-1 block w-full"},null,8,["modelValue"]),l(i,{message:o(e).errors.client_key_path},null,8,["message"]),l(r,{value:"CA Cert Path"}),l(u,{modelValue:o(e).ca_cert_path,"onUpdate:modelValue":t[3]||(t[3]=a=>o(e).ca_cert_path=a),class:"mt-1 block w-full"},null,8,["modelValue"]),l(i,{message:o(e).errors.ca_cert_path},null,8,["message"]),l(r,{value:"Status"}),b(s("select",{"onUpdate:modelValue":t[4]||(t[4]=a=>o(e).status=a),class:"mt-1 block w-full border-gray-300 rounded-md"},[...t[18]||(t[18]=[s("option",{value:"active"},"Active",-1),s("option",{value:"inactive"},"Inactive",-1)])],512),[[k,o(e).status]]),l(i,{message:o(e).errors.status},null,8,["message"]),s("div",et,[l(g,{type:"submit"},{default:d(()=>[...t[19]||(t[19]=[m("Save",-1)])]),_:1})])],32)])]),_:1},8,["show"]),l(V,{show:f.value,onClose:t[11]||(t[11]=a=>f.value=!1)},{default:d(()=>[s("div",st,[t[23]||(t[23]=s("h2",{class:"text-lg font-semibold mb-4"},"Edit OpenVPN Profile",-1)),s("form",{onSubmit:w(U,["prevent"])},[l(r,{value:"Config Path"}),l(u,{modelValue:o(e).config_path,"onUpdate:modelValue":t[6]||(t[6]=a=>o(e).config_path=a),class:"mt-1 block w-full"},null,8,["modelValue"]),l(i,{message:o(e).errors.config_path},null,8,["message"]),l(r,{value:"Client Cert Path"}),l(u,{modelValue:o(e).client_cert_path,"onUpdate:modelValue":t[7]||(t[7]=a=>o(e).client_cert_path=a),class:"mt-1 block w-full"},null,8,["modelValue"]),l(i,{message:o(e).errors.client_cert_path},null,8,["message"]),l(r,{value:"Client Key Path"}),l(u,{modelValue:o(e).client_key_path,"onUpdate:modelValue":t[8]||(t[8]=a=>o(e).client_key_path=a),class:"mt-1 block w-full"},null,8,["modelValue"]),l(i,{message:o(e).errors.client_key_path},null,8,["message"]),l(r,{value:"CA Cert Path"}),l(u,{modelValue:o(e).ca_cert_path,"onUpdate:modelValue":t[9]||(t[9]=a=>o(e).ca_cert_path=a),class:"mt-1 block w-full"},null,8,["modelValue"]),l(i,{message:o(e).errors.ca_cert_path},null,8,["message"]),l(r,{value:"Status"}),b(s("select",{"onUpdate:modelValue":t[10]||(t[10]=a=>o(e).status=a),class:"mt-1 block w-full border-gray-300 rounded-md"},[...t[21]||(t[21]=[s("option",{value:"active"},"Active",-1),s("option",{value:"inactive"},"Inactive",-1)])],512),[[k,o(e).status]]),l(i,{message:o(e).errors.status},null,8,["message"]),s("div",lt,[l(g,{type:"submit"},{default:d(()=>[...t[22]||(t[22]=[m("Update",-1)])]),_:1})])],32)])]),_:1},8,["show"])]),_:1}))}};export{ht as default};
